{"version":3,"sources":["webpack:///webpack/bootstrap 3e4a0d008cd698026a67","webpack:///./src/grid.jquery.js","webpack:///./src/utils/layouter.js","webpack:///./src/utils/parser.js"],"names":[],"mappings":"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","file":"grid.jquery.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 3e4a0d008cd698026a67\n **/","const { computePosition } = require('./utils/layouter');\r\nconst { getGridStyle } = require('./utils/parser');\r\n\r\n// 扩展 jQuery / Zepto 插件\r\n$.fn.extend({\r\n    wrapGrid: function(options = {}) {\r\n        const origins = computePosition(options);\r\n        const { wrapperStyle, layoutStyle } = getGridStyle(options, origins);\r\n\r\n        this.each((x, wrapper) => {\r\n            $(wrapper).addClass('grid-wrapper')\r\n                .css(wrapperStyle)\r\n                .children()\r\n                .each((index, cell) => {\r\n                    $(cell).wrap(\r\n                        $('<div class=\"grid-cell\"></div>')\r\n                            .attr('data-index', index)\r\n                            .css(layoutStyle[index])\r\n                    );\r\n                });\r\n        });\r\n    }\r\n});\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/grid.jquery.js\n **/","\r\n// 判断两点是否相等\r\nfunction isEqual(pa, pb) {\r\n    return pa.x === pb.x && pa.y === pb.y;\r\n}\r\n\r\n// 获取由起点和一个向量构成的矩形的顶点坐标\r\nfunction getRect(origin, vector) {\r\n    return [\r\n        { x: origin.x, y: origin.y },\r\n        { x: origin.x + vector[0], y: origin.y },\r\n        { x: origin.x, y: origin.y + vector[1] },\r\n        { x: origin.x + vector[0], y: origin.y + vector[1] }\r\n    ];\r\n}\r\n\r\n// 求集合对称差，参考公式：AΔB = (A - B)∪(B - A)\r\nfunction xor(A, B) {\r\n    return []\r\n        .concat(A.filter(a => B.every(b => !isEqual(a, b))))\r\n        .concat(B.filter(b => A.every(a => !isEqual(a, b))))\r\n}\r\n\r\n// 根据边界集合计算下一个起点的坐标\r\nfunction getOrigin(boundary) {\r\n    var x = Number.MAX_VALUE;\r\n    var y = Number.MAX_VALUE;\r\n\r\n    boundary.forEach(point => {\r\n        if (point.y < y) {\r\n            ({ x, y } = point);\r\n        } else if (point.y === y) {\r\n            x = (point.x < x) ? point.x : x;\r\n        }\r\n    });\r\n\r\n    return { x, y };\r\n}\r\n\r\n// =========================================================\r\n//  计算每个图形应该摆放的起始位置\r\n//  @param column: 网格横向总宽度\r\n//  @param layout: 由每个图形的宽高构成的数组 [{x:*,y:*},...]\r\n//  返回值: 每个图形应该摆放的起始位置所构成的数组\r\n// =========================================================\r\nfunction computePosition({ column, layout }) {\r\n    // 初始化所有格子的起点记录\r\n    const record = [{ x: 0, y: 0 }];\r\n\r\n    // 初始化起点和底部边界线\r\n    var origin = { x: 0, y: 0 };\r\n    var boundary = [origin, { x: column, y: 0 }];\r\n\r\n    layout.forEach(vector => {\r\n\r\n        // 计算新的边界线\r\n        boundary = xor(boundary, getRect(origin, vector));\r\n\r\n        // 计算下一个起点的位置\r\n        origin = getOrigin(boundary);\r\n\r\n        record.push(origin);\r\n    });\r\n\r\n    return record;\r\n}\r\n\r\nmodule.exports = {\r\n    computePosition,\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/layouter.js\n **/","\r\n// 根据属性值计算布局样式\r\nfunction getGridStyle(props, origins) {\r\n    const { unit = 'px', column, width, layout, gap = 0, border } = props;\r\n    const ratio = (width + gap) / column;\r\n\r\n    // 计算 Grid 的高度\r\n    const height = origins.pop().y * ratio - gap;\r\n\r\n    // 计算外框样式\r\n    const wrapperStyle = {\r\n        position: 'relative',\r\n        width  : `${width}${unit}`,\r\n        height : `${height}${unit}`,\r\n    };\r\n\r\n    // 计算布局样式\r\n    const layoutStyle = layout.map((size, index) => {\r\n        const coord = origins[index];\r\n\r\n        const boxStyle = {\r\n            position: 'absolute',\r\n            boxSizing: 'border-box',\r\n            top   : coord.y * ratio + unit,\r\n            left  : coord.x * ratio + unit,\r\n            width : size[0] * ratio - gap + unit,\r\n            height: size[1] * ratio - gap + unit,\r\n        }\r\n\r\n        // 给网格添加边框\r\n        if (border) {\r\n            const { width, style = 'solid', color = '#000', radius } = border;\r\n            const borderStyle = `${width} ${style} ${color}`;\r\n            if (width && coord.x > 0) boxStyle.borderLeft = borderStyle;\r\n            if (width && coord.y > 0) boxStyle.borderTop  = borderStyle;\r\n            if (radius) boxStyle.borderRadius = radius;\r\n        }\r\n\r\n        return boxStyle;\r\n    });\r\n\r\n    return { wrapperStyle, layoutStyle };\r\n}\r\n\r\nmodule.exports = {\r\n    getGridStyle,\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/parser.js\n **/"],"sourceRoot":""}